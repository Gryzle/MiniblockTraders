# --------------------------------------------------------------- #
#                   MINIBLOCK TRADERS DATAPACK                    #
# --------------------------------------------------------------- #
#                                                                 #
#              Author: https://github.com/maxheyn                 #
#                                                                 #
# --------------------------------------------------------------- #

# Destroy the item used to convert the villager.
kill @e[type=item,nbt={Item:{tag:{tag:mt_clothes}}},distance=..0.5]

# Fun effects to give user feedback that the transformation worked.
execute at @s run particle minecraft:happy_villager ~ ~ ~ 0.3 1 0.3 100 250
playsound minecraft:entity.experience_orb.pickup ambient @a[distance=..8] ~ ~ ~ 30

# The below command split into lines to make it easier to read. It will not run unless it is a single line.
# data merge entity @s {VillagerData:{profession:librarian,level:5,type:savanna},PersistenceRequired:1,CustomName:"\"Tailor\"",Offers:{Recipes:[
#     {buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Steve's Clothes\"}"},SkullOwner:{Id:[I;924865078,1573931399,-1490389728,-1737180909],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvMmUyMDNmYmY5ZTU3ODRjZmZlYzkzYTJlYmNjNTU4YmI4ZTU1NmVjM2VjNTI1ZDZiY2Q4ZTRiMjIxMDZlNzk5In19fQ=="}]}}},Count:1},rewardExp:0b,maxUses:9999999},
#     {buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Alex's Clothes\"}"},SkullOwner:{Id:[I;1944886890,-2060761456,-2027220993,-801562732],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvYzgwN2VkNjY5NTBjZGEzMWQwOTZhNGNjM2ZmZjFmOTYxM2ExZGQyMzQwNWViOTM3NzZhNzQxOTdlOTRiZDk2NSJ9fX0="}]}}},Count:1},rewardExp:0b,maxUses:9999999},
#     {buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Pile of Shirts\"}"},SkullOwner:{Id:[I;-2130204718,1319060125,-1618289757,-1207456364],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNTE2Y2UxMDRlYWVmOWZhYThjZmNlNmViMDYxNmI5MTVlODgwNGIyNjI5Y2VjMTQyODE2M2ZhOTUxNGY3NzA4MyJ9fX0="}]}}},Count:1},rewardExp:0b,maxUses:9999999},
#     {buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Pile of Shirts\"}"},SkullOwner:{Id:[I;692458065,-1181597034,-1878934666,296589219],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvYjRkYmM3ZTgwMGEyNjQyNTFkYzJmNmQyY2RlNDVlZmZhMjA2YTE3NzNkY2M1M2NiMmE1MzRmOTQ3MDQyNjI1NyJ9fX0="}]}}},Count:1},rewardExp:0b,maxUses:9999999},
#     {buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Pile of Shirts\"}"},SkullOwner:{Id:[I;-1471924245,2014528408,-1525623755,-1281295909],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNTU1MDdkNjUxN2VmZjk1MmRkMzhmYThiYzU1MWRkNmQ2YTdhNWU0ZWExMzQ1MTliNDQ2NTBhYzFmZmE1OWMzIn19fQ=="}]}}},Count:1},rewardExp:0b,maxUses:9999999},
#     {buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Red Scarf\"}"},SkullOwner:{Id:[I;221373095,1219053539,-1082208645,-118645894],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvOTQzMWExZWZlMzMyNjNmYTAwZWZkZjQ3OWNmNDBhMTFjMTMxNmRiMzIzYmM4ZDc4NzNmODk5N2U4ZTJmNzVkOSJ9fX0="}]}}},Count:1},rewardExp:0b,maxUses:9999999},
#     {buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Pile of Suits\"}"},SkullOwner:{Id:[I;-1334393718,-761904911,-1233602410,-2048784493],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNTA3NzI2Y2M0NmVlNGJkYzU5YjU4NzlmZThhN2ZhNGJiMjQ3OGVkMmMzZGZlZjFjZTg4Mjk5NGQwY2M4YWU4In19fQ=="}]}}},Count:1},rewardExp:0b,maxUses:9999999},
#     {buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Pile of Pants\"}"},SkullOwner:{Id:[I;-116882706,501499964,-1722249017,482677858],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvMjA0MDg2YjE2ZjE4OGJjMjY5Mzk0NDI1YTg0NjVjNzVlZGY2YTRlNzMxN2VhMWIxOTY2M2RkOGVjY2Y3NzQ2In19fQ=="}]}}},Count:1},rewardExp:0b,maxUses:9999999},
#     {buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Pile of Pants\"}"},SkullOwner:{Id:[I;2067976794,-1906881666,-1454184004,1396854285],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvOGZjYzcwYjhhMGMxZjZjZWEyZTQ0MmFiYmYxNzcyMGY5MTdiMTVmNzQ5YjYwNDk3ODVlNzAzNzI0YTVjOTk5In19fQ=="}]}}},Count:1},rewardExp:0b,maxUses:9999999},
#     {buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Pile of Pants\"}"},SkullOwner:{Id:[I;1350653489,-180140209,-1438901738,-488131796],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvY2JjMTU0ZjFlNGVhNTgyMmUyNGFmMjJjMjRhOTNiNzIwY2UzZWEzNGQ2ZDkyYzIzNGIzNWUzNDJmYTU4ZjEifX19"}]}}},Count:1},rewardExp:0b,maxUses:9999999},
#     {buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Pile of Shirts\"}"},SkullOwner:{Id:[I;-1187673496,-303413001,-1543837940,-481035780],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNWY0NjZiZTU0YjY0ODZjNmMzMzBiMmIzYmMzODdiNmM3NGRhNmEyNWY5OTE3NzUxYzk5N2JlOTgxOTVkM2YifX19"}]}}},Count:1},rewardExp:0b,maxUses:9999999},
#     {buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Pile of Shirts\"}"},SkullOwner:{Id:[I;-2129767354,170937656,-1628525230,-1226793581],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNWU1NzdiYjMxYTUwYmViMzE5YjUxMGQwOWE4Yjc5M2VkZDE4NjdlNzU5OTVjN2JiYTE3OGFmMDMxOGRmMDg5In19fQ=="}]}}},Count:1},rewardExp:0b,maxUses:9999999},
# ]}}

# Apply villager trades.
data merge entity @s {VillagerData:{profession:librarian,level:5,type:savanna},PersistenceRequired:1,CustomName:"\"Tailor\"",Offers:{Recipes:[{buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Steve's Clothes\"}"},SkullOwner:{Id:[I;924865078,1573931399,-1490389728,-1737180909],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvMmUyMDNmYmY5ZTU3ODRjZmZlYzkzYTJlYmNjNTU4YmI4ZTU1NmVjM2VjNTI1ZDZiY2Q4ZTRiMjIxMDZlNzk5In19fQ=="}]}}},Count:1},rewardExp:0b,maxUses:9999999},{buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Alex's Clothes\"}"},SkullOwner:{Id:[I;1944886890,-2060761456,-2027220993,-801562732],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvYzgwN2VkNjY5NTBjZGEzMWQwOTZhNGNjM2ZmZjFmOTYxM2ExZGQyMzQwNWViOTM3NzZhNzQxOTdlOTRiZDk2NSJ9fX0="}]}}},Count:1},rewardExp:0b,maxUses:9999999},{buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Pile of Shirts\"}"},SkullOwner:{Id:[I;-2130204718,1319060125,-1618289757,-1207456364],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNTE2Y2UxMDRlYWVmOWZhYThjZmNlNmViMDYxNmI5MTVlODgwNGIyNjI5Y2VjMTQyODE2M2ZhOTUxNGY3NzA4MyJ9fX0="}]}}},Count:1},rewardExp:0b,maxUses:9999999},{buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Pile of Shirts\"}"},SkullOwner:{Id:[I;692458065,-1181597034,-1878934666,296589219],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvYjRkYmM3ZTgwMGEyNjQyNTFkYzJmNmQyY2RlNDVlZmZhMjA2YTE3NzNkY2M1M2NiMmE1MzRmOTQ3MDQyNjI1NyJ9fX0="}]}}},Count:1},rewardExp:0b,maxUses:9999999},{buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Pile of Shirts\"}"},SkullOwner:{Id:[I;-1471924245,2014528408,-1525623755,-1281295909],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNTU1MDdkNjUxN2VmZjk1MmRkMzhmYThiYzU1MWRkNmQ2YTdhNWU0ZWExMzQ1MTliNDQ2NTBhYzFmZmE1OWMzIn19fQ=="}]}}},Count:1},rewardExp:0b,maxUses:9999999},{buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Red Scarf\"}"},SkullOwner:{Id:[I;221373095,1219053539,-1082208645,-118645894],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvOTQzMWExZWZlMzMyNjNmYTAwZWZkZjQ3OWNmNDBhMTFjMTMxNmRiMzIzYmM4ZDc4NzNmODk5N2U4ZTJmNzVkOSJ9fX0="}]}}},Count:1},rewardExp:0b,maxUses:9999999},{buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Pile of Suits\"}"},SkullOwner:{Id:[I;-1334393718,-761904911,-1233602410,-2048784493],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNTA3NzI2Y2M0NmVlNGJkYzU5YjU4NzlmZThhN2ZhNGJiMjQ3OGVkMmMzZGZlZjFjZTg4Mjk5NGQwY2M4YWU4In19fQ=="}]}}},Count:1},rewardExp:0b,maxUses:9999999},{buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Pile of Pants\"}"},SkullOwner:{Id:[I;-116882706,501499964,-1722249017,482677858],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvMjA0MDg2YjE2ZjE4OGJjMjY5Mzk0NDI1YTg0NjVjNzVlZGY2YTRlNzMxN2VhMWIxOTY2M2RkOGVjY2Y3NzQ2In19fQ=="}]}}},Count:1},rewardExp:0b,maxUses:9999999},{buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Pile of Pants\"}"},SkullOwner:{Id:[I;2067976794,-1906881666,-1454184004,1396854285],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvOGZjYzcwYjhhMGMxZjZjZWEyZTQ0MmFiYmYxNzcyMGY5MTdiMTVmNzQ5YjYwNDk3ODVlNzAzNzI0YTVjOTk5In19fQ=="}]}}},Count:1},rewardExp:0b,maxUses:9999999},{buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Pile of Pants\"}"},SkullOwner:{Id:[I;1350653489,-180140209,-1438901738,-488131796],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvY2JjMTU0ZjFlNGVhNTgyMmUyNGFmMjJjMjRhOTNiNzIwY2UzZWEzNGQ2ZDkyYzIzNGIzNWUzNDJmYTU4ZjEifX19"}]}}},Count:1},rewardExp:0b,maxUses:9999999},{buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Pile of Shirts\"}"},SkullOwner:{Id:[I;-1187673496,-303413001,-1543837940,-481035780],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNWY0NjZiZTU0YjY0ODZjNmMzMzBiMmIzYmMzODdiNmM3NGRhNmEyNWY5OTE3NzUxYzk5N2JlOTgxOTVkM2YifX19"}]}}},Count:1},rewardExp:0b,maxUses:9999999},{buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Pile of Shirts\"}"},SkullOwner:{Id:[I;-2129767354,170937656,-1628525230,-1226793581],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNWU1NzdiYjMxYTUwYmViMzE5YjUxMGQwOWE4Yjc5M2VkZDE4NjdlNzU5OTVjN2JiYTE3OGFmMDMxOGRmMDg5In19fQ=="}]}}},Count:1},rewardExp:0b,maxUses:9999999}]}}