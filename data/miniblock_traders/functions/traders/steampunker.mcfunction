# --------------------------------------------------------------- #
#                   MINIBLOCK TRADERS DATAPACK                    #
# --------------------------------------------------------------- #
#                                                                 #
#              Author: https://github.com/maxheyn                 #
#                                                                 #
# --------------------------------------------------------------- #

# Destroy the item used to convert the villager.
kill @e[type=item,nbt={Item:{tag:{tag:mt_steampunk}}},distance=..0.5]

# Fun effects to give user feedback that the transformation worked.
execute at @s run particle minecraft:happy_villager ~ ~ ~ 0.3 1 0.3 100 250
playsound minecraft:entity.experience_orb.pickup ambient @a[distance=..8] ~ ~ ~ 30

# The below command split into lines to make it easier to read. It will not run unless it is a single line.
# data merge entity @s {VillagerData:{profession:armorer,level:5,type:jungle},PersistenceRequired:1,CustomName:"\"Steampunker\"",Offers:{Recipes:[
#     {buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Steampunk Device\"}"},SkullOwner:{Id:[I;-483707455,38948704,-1555055281,-777760050],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvOTM0NzRkMGFhMWZhMTA5YmY5ZjRmMDVlYWEyZDJjNmZlZjc1Y2ViNmUyOTIzZjg1ZThlM2E2MmNjNWE0NDk1OCJ9fX0="}]}}},Count:1},rewardExp:0b,maxUses:9999999},
#     {buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Steampunk Robot\"}"},SkullOwner:{Id:[I;1374965242,-1570617428,-1770847629,1645723245],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNGVhN2RhNGZlOGI4OGVkNmM4ZDAwZTlmNjlkNjMyNTlkNDcxODYzZGY5NGUyNWFlMjkwNDNjYzc3ZGY0YzAzZSJ9fX0="}]}}},Count:1},rewardExp:0b,maxUses:9999999},
#     {buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Steampunk Robot\"}"},SkullOwner:{Id:[I;1504946014,1516454875,-2082045037,880660664],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNzczMTA1NDY1ZGFkMmQwMjM4MjVmODQyNjJiMzg4ZmY3ZDBhMjliNzAwNmRkMmE1N2Q3ZThjYzY5ZDk1NTBjMyJ9fX0="}]}}},Count:1},rewardExp:0b,maxUses:9999999},
#     {buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Robot\"}"},SkullOwner:{Id:[I;1392454002,-899986346,-1537440165,-1688964989],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvYmE1OWE0ZjEwYmNmN2JiNTM5M2QxOTY4MTExNDk4OWVjNGIzMDU1NzFkNGJlOTk1MzY0Zjg0MTYwMDIxYTlmMiJ9fX0="}]}}},Count:1},rewardExp:0b,maxUses:9999999},
#     {buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Robot\"}"},SkullOwner:{Id:[I;-232879340,-341993785,165118383,-1764354505],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNWRjYWY3NmE4ZDY1YjY2NGEzNzE4NTlmNjMzMzEzZGE5NWY3YWZlY2Y3YTJlOGVkZmU2ODBmN2I0NDcyNGQifX19"}]}}},Count:1},rewardExp:0b,maxUses:9999999},
#     {buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Robot\"}"},SkullOwner:{Id:[I;-975331683,-712356952,-1867975141,-2012968894],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvYWJiZDY5YmQyMjdiNTY0MWY3OTgyZGExMzNjMWI2NzA1NWIxOTYzZGY3NjczYzk2MjAxMWJiMTNkZGM4MTFlNCJ9fX0="}]}}},Count:1},rewardExp:0b,maxUses:9999999},
#     {buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Robot\"}"},SkullOwner:{Id:[I;-245990934,450645177,-1121024820,555585154],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvOGU2YTNlMzllMzg5NTIyYjcyNTgyMzE5NzE4ZTFiMTllYTQ1ZWY4NzI2NTYwZDlmM2FiMTIyMWQ1Y2VlZGVjMCJ9fX0="}]}}},Count:1},rewardExp:0b,maxUses:9999999},
#     {buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Robot\"}"},SkullOwner:{Id:[I;-1482903061,-271891555,-1800396637,-38271559],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvM2M3NDgzNDYxZTk0OTlkM2VkMTY0NWJmOGEwNjEzNmU2NDg1ODdhZWM4ODc3OTk4NWI4ZTIyYWRlNTcifX19"}]}}},Count:1},rewardExp:0b,maxUses:9999999},
#     {buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Golden Robot\"}"},SkullOwner:{Id:[I;584143181,-1303296379,-1371830480,1772251523],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZjJkZTFmYTcxZTgzMzRiOGExNTU1NWYyZTQ4NjBmZmQzZTU4ZDYxNDU3NzdjZWU5ZGM5ZTU5ZTdhMjNmYTEifX19"}]}}},Count:1},rewardExp:0b,maxUses:9999999},
#     {buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Golden Steampunk Creeper\"}"},SkullOwner:{Id:[I;-564918268,-1019065961,-1533965908,-1915004483],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvMWQ4MjJmMTI1YmZkNDg2MjJkMDEwMjQ1ZmUxNjNmNGE3NmI1MTljMjRjOWI0ZTVlYjI5ODBjMjM1NTJmYTZlYiJ9fX0="}]}}},Count:1},rewardExp:0b,maxUses:9999999},
# ]}}

# Apply villager trades.
data merge entity @s {VillagerData:{profession:armorer,level:5,type:jungle},PersistenceRequired:1,CustomName:"\"Steampunker\"",Offers:{Recipes:[{buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Steampunk Device\"}"},SkullOwner:{Id:[I;-483707455,38948704,-1555055281,-777760050],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvOTM0NzRkMGFhMWZhMTA5YmY5ZjRmMDVlYWEyZDJjNmZlZjc1Y2ViNmUyOTIzZjg1ZThlM2E2MmNjNWE0NDk1OCJ9fX0="}]}}},Count:1},rewardExp:0b,maxUses:9999999},{buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Steampunk Robot\"}"},SkullOwner:{Id:[I;1374965242,-1570617428,-1770847629,1645723245],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNGVhN2RhNGZlOGI4OGVkNmM4ZDAwZTlmNjlkNjMyNTlkNDcxODYzZGY5NGUyNWFlMjkwNDNjYzc3ZGY0YzAzZSJ9fX0="}]}}},Count:1},rewardExp:0b,maxUses:9999999},{buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Steampunk Robot\"}"},SkullOwner:{Id:[I;1504946014,1516454875,-2082045037,880660664],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNzczMTA1NDY1ZGFkMmQwMjM4MjVmODQyNjJiMzg4ZmY3ZDBhMjliNzAwNmRkMmE1N2Q3ZThjYzY5ZDk1NTBjMyJ9fX0="}]}}},Count:1},rewardExp:0b,maxUses:9999999},{buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Robot\"}"},SkullOwner:{Id:[I;1392454002,-899986346,-1537440165,-1688964989],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvYmE1OWE0ZjEwYmNmN2JiNTM5M2QxOTY4MTExNDk4OWVjNGIzMDU1NzFkNGJlOTk1MzY0Zjg0MTYwMDIxYTlmMiJ9fX0="}]}}},Count:1},rewardExp:0b,maxUses:9999999},{buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Robot\"}"},SkullOwner:{Id:[I;-232879340,-341993785,165118383,-1764354505],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNWRjYWY3NmE4ZDY1YjY2NGEzNzE4NTlmNjMzMzEzZGE5NWY3YWZlY2Y3YTJlOGVkZmU2ODBmN2I0NDcyNGQifX19"}]}}},Count:1},rewardExp:0b,maxUses:9999999},{buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Robot\"}"},SkullOwner:{Id:[I;-975331683,-712356952,-1867975141,-2012968894],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvYWJiZDY5YmQyMjdiNTY0MWY3OTgyZGExMzNjMWI2NzA1NWIxOTYzZGY3NjczYzk2MjAxMWJiMTNkZGM4MTFlNCJ9fX0="}]}}},Count:1},rewardExp:0b,maxUses:9999999},{buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Robot\"}"},SkullOwner:{Id:[I;-245990934,450645177,-1121024820,555585154],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvOGU2YTNlMzllMzg5NTIyYjcyNTgyMzE5NzE4ZTFiMTllYTQ1ZWY4NzI2NTYwZDlmM2FiMTIyMWQ1Y2VlZGVjMCJ9fX0="}]}}},Count:1},rewardExp:0b,maxUses:9999999},{buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Robot\"}"},SkullOwner:{Id:[I;-1482903061,-271891555,-1800396637,-38271559],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvM2M3NDgzNDYxZTk0OTlkM2VkMTY0NWJmOGEwNjEzNmU2NDg1ODdhZWM4ODc3OTk4NWI4ZTIyYWRlNTcifX19"}]}}},Count:1},rewardExp:0b,maxUses:9999999},{buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Golden Robot\"}"},SkullOwner:{Id:[I;584143181,-1303296379,-1371830480,1772251523],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZjJkZTFmYTcxZTgzMzRiOGExNTU1NWYyZTQ4NjBmZmQzZTU4ZDYxNDU3NzdjZWU5ZGM5ZTU5ZTdhMjNmYTEifX19"}]}}},Count:1},rewardExp:0b,maxUses:9999999},{buy:{id:emerald,Count:1},sell:{id:"player_head",tag:{display:{Name:"{\"text\":\"Golden Steampunk Creeper\"}"},SkullOwner:{Id:[I;-564918268,-1019065961,-1533965908,-1915004483],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvMWQ4MjJmMTI1YmZkNDg2MjJkMDEwMjQ1ZmUxNjNmNGE3NmI1MTljMjRjOWI0ZTVlYjI5ODBjMjM1NTJmYTZlYiJ9fX0="}]}}},Count:1},rewardExp:0b,maxUses:9999999}]}}